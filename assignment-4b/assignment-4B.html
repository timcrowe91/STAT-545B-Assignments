---
title: "Assignment 4-B: Automating Data-analysis Pipelines"
subtitle: "Version 1.0.0" 
output: html_document
---



<p><strong>Deadline</strong>: <strong>Friday</strong>, December 4, 2020</p>
<p><strong>Total Points</strong>: 20</p>
<p><strong>Assignment leader</strong>: Almas</p>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p>Your task, high level: modify the <a href="https://github.com/UBC-STAT/stat545.stat.ubc.ca/tree/master/content/assignments/assignment-4b/make-activity"><code>make</code> pipeline</a> we made in class.</p>
<p>More information about the activity can be found in <a href="http://stat545.com/automation04_make-activity.html">Chapter 36 of the stat545.com book</a>.</p>
<ul>
<li><input type="checkbox" disabled="" />
For your convenience, we’ve indicated all action items with a checkbox, like so.</li>
</ul>
</div>
<div id="setup" class="section level2">
<h2>Setup</h2>
<p>We’ve made a pull request on your repositories containing the <a href="https://github.com/UBC-STAT/stat545.stat.ubc.ca/tree/master/content/assignments/assignment-4b">starting point</a> of the analysis that you will modify.</p>
<ul>
<li><input type="checkbox" disabled="" />
Accept the pull request. You’re on your way!</li>
</ul>
</div>
<div id="tidy-submission-2-points" class="section level2">
<h2>Tidy Submission (2 points)</h2>
<p>Follow these steps to submit your work. Be sure to familiarize yourself with the rubric for a tidy submission below, before doing these steps.</p>
<ol style="list-style-type: decimal">
<li><input type="checkbox" disabled="" />
Create a README file in your <code>assignment-4b</code> folder. It should let a visitor know what’s in this folder.</li>
<li><input type="checkbox" disabled="" />
Create/update a main README file for your entire repository. It should orient a visitor to what this repository <em>is</em>, and that visitor should know how to engage with the repository. There should not be much here.</li>
<li><input type="checkbox" disabled="" />
Check that your assignment appears nicely rendered and viewable online, such as by changing the output to <code>output: github_document</code> in the YAML header.<ul>
<li>You could also use GitHub pages. But, the assignment needs to correspond to the tagged release, and we still need to be able to navigate to your repository somehow.</li>
</ul></li>
<li><input type="checkbox" disabled="" />
Tag a release in your GitHub repository corresponding to your submission before the deadline.<ul>
<li>Forgotten how to tag a release? We have instructions at the bottom of the <a href="https://stat545.stat.ubc.ca/collaborative-project/milestone1/readme/">Collaborative Milestone 1 repo</a> from STAT 545A.</li>
</ul></li>
<li><input type="checkbox" disabled="" />
Grab the URL corresponding to your viewable output from Step 3, and submit that to canvas. Also, please let us know what you thought of this assignment – any feedback would be appreciated. Follow these steps to submit your work. Be sure to familiarize yourself with the rubric for a tidy submission below, before doing these steps.</li>
</ol>
</div>
<div id="exercise-1-warmup-2-points" class="section level2">
<h2>Exercise 1: Warmup (2 points)</h2>
<ol style="list-style-type: decimal">
<li><input type="checkbox" disabled="" />
Independently from any Makefile, indicate the code that you would run in the command line (Terminal) in order to run an <code>.R</code> file <em>in the background</em>, so that you can close your Terminal and have the code still run. Add this to the README in your <code>assignment-4b</code> folder. (2 points)</li>
</ol>
</div>
<div id="exercise-2-makefile-step-by-step-instructions-14-marks" class="section level2">
<h2>Exercise 2: Makefile Step by Step Instructions (14 marks)</h2>
<ol style="list-style-type: decimal">
<li><input type="checkbox" disabled="" />
Modify one thing about the seeded analysis (add a file? add another output file?), and update the Makefile accordingly. (2 points)</li>
<li><input type="checkbox" disabled="" />
Let us know what it was that you changed in 2. in a couple of sentences in your <strong>Assignment 4B folder README</strong>. (1 point)</li>
<li>Make a Makefile in the root of your assignment repo (that is, outside of the <code>assignment-4b</code> folder). Be sure to also include the <code>all</code> and <code>clean</code> phony outputs. (9 points, breakdown below)</li>
</ol>
<ul>
<li><input type="checkbox" disabled="" />
Make the Makefile in the root so that you can make the assignments that are present in your repo (use a phony output per assignment). (6 points)<ul>
<li>Your Makefile should be written so that, if a dependency changes, running <code>make</code> should update the appropriate output (and all downstream portions of the pipeline).</li>
</ul></li>
<li><input type="checkbox" disabled="" />
Running <code>make all</code> should result in having all output present in your repo. (1 point)</li>
<li><input type="checkbox" disabled="" />
Running <code>make clean</code> should remove all output. (1 point)</li>
<li><input type="checkbox" disabled="" />
There isn’t any useless outputs such as an <code>Rplots.pdf</code> file (which sometimes arises as a byproduct of running <code>Rscript</code>). (1 point)</li>
<li>For Assignment 4-B, you shouldn’t copy and paste <em>its</em> Makefile content into the higher-level Makefile.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li><input type="checkbox" disabled="" />
“Making” Assignment 3-B results in the shiny app being launched. (1 point)</li>
<li><input type="checkbox" disabled="" />
List all of the dependencies required for each assignment, in the main README, such that it would be easy for someone to install these dependencies. (1 point)</li>
</ol>
<ul>
<li><input type="checkbox" disabled="" />
<strong>Partial marks</strong>: Having a hard time getting <code>make</code> working? You can still automate your pipeline with a “master R script” in place of the Makefile. You won’t get full points, but you can still get partial marks here. Make it clear in your README if this is what you’re doing. (2 marks instead of full 4)</li>
</ul>
<div id="code-quality-2-marks" class="section level3">
<h3>Code Quality (2 marks)</h3>
<ul>
<li><input type="checkbox" disabled="" />
Code runs without errors and it is appropriately annotated, legible, and easy to follow. (2 pts)</li>
</ul>
</div>
</div>
<div id="exercise-3-bonus-1-point" class="section level2">
<h2>Exercise 3: Bonus (1 point)</h2>
<p><strong>This exercise is optional</strong></p>
<ul>
<li><input type="checkbox" disabled="" />
Make a graph of a Makefile (either one), and put it in the corresponding README. Have this happen in an automated and reproducible way.<ul>
<li>Some software that may help: <a href="https://github.com/vak/makefile2dot">makefile2dot</a>, <a href="https://metacpan.org/pod/GraphViz::Makefile">GraphViz::Makefile</a>, <a href="https://github.com/lindenb/j4make">j4make</a>, <a href="https://github.com/lindenb/makefile2graph">makefile2graph</a>.</li>
</ul></li>
</ul>
</div>
<div id="attribution" class="section level2">
<h2>Attribution</h2>
<ul>
<li>The main idea of modifying this analysis was present when Jenny Bryan taught STAT 545.</li>
<li>For 2020, some modifications to the activities were proposed by Vincenzo Coia, and Almas Khan implemented the details.</li>
</ul>
</div>
